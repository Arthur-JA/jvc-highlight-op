// ==UserScript==
// @name         JVC highlight op
// @version      2
// @description  Ajoute "OP" a cotÃ© du pseudo de l'op
// @author       Bernie
// @match        https://www.jeuxvideo.com/forums/*
// @grant        none
// ==/UserScript==
const parser=new DOMParser,msgContainer=document.querySelector(".conteneur-messages-pagi"),pager=msgContainer.querySelector(".bloc-pagi-default .bloc-liste-num-page");if(pager){let t=null;if("1"==pager.querySelector(".page-active").textContent)t=msgContainer.querySelector(".bloc-pseudo-msg").textContent,highlightOp();else{const b=new XMLHttpRequest;b.onreadystatechange=()=>{if(b.readyState===XMLHttpRequest.DONE&&200===b.status){const e=parser.parseFromString(b.responseText,"text/html");t=e.querySelector(".bloc-pseudo-msg").textContent,highlightOp()}},b.open("GET",pager.querySelector("a.lien-jv").href,!0),b.send()}function highlightOp(){t&&msgContainer.querySelectorAll(".bloc-pseudo-msg").forEach(e=>{e.textContent===t&&(e.innerHTML+='<strong style="color: #FF6600;font-size: 12px;margin-left: 5px;vertical-align:bottom">OP</strong>')})}}
